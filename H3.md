# H3 Infraa koodina
## x) Lue ja tiivistä
**Hello Salt Infra as Code (Karvinen 2014)**
* Päivitä paketit ja asenna sen jälkeen salt-minion.
* Asenna tekstieditori micro ja aseta se oletusohjelmaksi.
* Luodaan "hello" niminen hakemisto polkuun `/srv/salt/hello`.
* "hello" kansio pitää sisällään kaiken moduuliin liittyvän, kuten Salt koodin, tiedostot ja mallipohjat.
* `init.sls` tiedosto toimii aloituspisteenä.
* Muokkaa `init.sls` tiedostoa ja määrittele sinne haluamasi toimet, kuten tiedostojen luomisen `file.managed` tilan avulla.
* Aja moduuli "hello" paikallisesti.
* Tuloste kertoo, että `/tmp/hellotero` tiedosto luotiin onnistuneesti.
* Lopuksi voit tarkastaa tiedoston olemassaolon komennolla `ls /tmp/hellotero`.
* Salt toimii idempotentisti, eli se varmistaa, että järjestelmä on halutussa tilassa ilman tarpeettomia muutoksia.
* Jos sama moduuli ajetaan useaan kertaan muutoksia ei tapahdu ja tulosteessa ei näy kohtaa `changed = 1`.

**Salt overview (Salt contributors)**

*Rules of YAML*
* YAML on markup kieli, jota käytetään Salt ohjelmassa.
* YAML seuraa tiettyjä sääntöjä toeteutuksessaan, kuten `avain: arvo` pareja, käytä välilyöntejä älä tabulatuuria ja "#" aloittaa kommentit.
  
*YAML simple structure*
* Avain: arvo pareissa arvo voi olla numero, merkkijono tai boolean-arvo.
* Listoissa avainta seuraa usea arvo ja näistä jokainen arvo on omalla rivillä, sen edessä on kaksi välilyöntiä ja väliviiva.
* Sanakirjat ovat kokoelmia avain: arvo pareista ja listoista.
  
*Lists and dictionaries - YAML block structure*
* YAML käyttää lohkorakennetta, jossa sisennykset määrittävät hierarkian.
* Kokoelmissa, kuten listoissa ja sanakirjoissa jokainen merkintä alkaa väliviivalla ja välilyönnillä.
